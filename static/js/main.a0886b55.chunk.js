(this["webpackJsonpmock-recent-changes"]=this["webpackJsonpmock-recent-changes"]||[]).push([[0],{108:function(e,t,a){e.exports=a(137)},113:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(8),o=a.n(r),l=(a(113),a(17)),s=a(18),c=a(20),d=a(19),m=a(70),h=(a(66),a(67),a(69)),u=a.n(h),f=a(52),p=a(37),g=a.n(p),v=a(161),y=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"ValidateIPaddress",value:function(e){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}},{key:"render",value:function(){var e=this.props.revision;return void 0===e?i.a.createElement(v.a,null):i.a.createElement("div",{className:"diff"},i.a.createElement("div",{className:"box"},i.a.createElement("strong",null,"Revision ID: "),i.a.createElement("a",{href:"https://en.wikipedia.org/w/index.php?title=&diff=prev&oldid="+e.rev_id,target:"_blank",rel:"noopener noreferrer"},e.rev_id),i.a.createElement("div",{className:"row"},i.a.createElement("div",null,i.a.createElement("strong",null,"Article Title: "),e.title)),i.a.createElement("h5",null,"Edited by"," ",this.ValidateIPaddress(e.username)?"Anonymous":e.username," at"," ",e.timestamp.toLocaleTimeString()," on"," ",e.timestamp.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})),""!==e.comment&&i.a.createElement("div",{style:{marginBottom:0}},i.a.createElement("strong",null,"Comment from Editor:"),i.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.comment}}))),i.a.createElement("table",{className:"box",dangerouslySetInnerHTML:{__html:"<tr class='header'><td class='before' colspan='2'>Before</td><td class='after' colspan='2'>After</td></tr>"+e.diff}}))}}]),a}(n.Component),b=a(23),E=a(165),k=a(47),x=a.n(k),w=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"renderItem",value:function(e){if(e.diff&&this.props.filters){for(var t=!0,a=new Set,n="#ffffff",r=Object.keys(this.props.filters),o=0;o<r.length&&t;o++)for(var l=Object.keys(this.props.filters[r[o]]),s=0;s<l.length&&t;s++){var c=!1,d=this.props.filters[r[o]][l[s]],m=d.highlight;if("experience"!==r[o]){var h="damaging"===r[o]?e.confidence_damage:e.confidence_faith,u=d.thresholds.min,f=d.thresholds.max;c=!(h<u||h>f)}else c=d.comparison(e);d.checked&&(t=t&&c),c&&""!==m&&(n=m,a.add(m))}return t?i.a.createElement("div",{className:"editLine",key:e.rev_id},i.a.createElement("div",{className:"dots"},Array.from(a).map((function(e){return i.a.createElement(x.a,{style:{fill:e,height:10,width:10}})}))),i.a.createElement(E.a,{variant:"body1",component:"li",style:{backgroundColor:(n||"#ffffff")+"55"}},"(",i.a.createElement(b.b,{target:"_blank",rel:"noopener noreferrer",to:"/d/"+e.rev_id},"diff")," ","| ",i.a.createElement(b.b,{to:"/h/"+e.rev_id},"hist"),") -"," ",i.a.createElement("strong",null,e.title),i.a.createElement("em",null," ","by ",i.a.createElement(b.b,{to:"/c/"+e.rev_id},e.username))," ",i.a.createElement("strong",{style:{color:e.size>=0?"#009933":"#ff0000"}},"(",e.size.toLocaleString("en-US",{signDisplay:"always"}),")")," ",i.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.comment}}))):i.a.createElement("div",{key:e.rev_id,style:{display:"none"}})}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"box"},this.props.data?this.props.data.map((function(t){return e.renderItem(t)})):i.a.createElement(v.a,null))}}]),a}(n.Component),S=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loaded:!1,data:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.revision&&void 0!==this.props.revision&&g.a.get("https://cors-anywhere.herokuapp.com/https://en.wikipedia.org/w/api.php?action=query&list=usercontribs&ucuser="+this.props.revision.username+"&ucstart="+this.props.revision.timestamp.toISOString()+"&uclimit=500&format=json&ucprop=sizediff|title|timestamp|parsedcomment|ids").then((function(t){var a=t.data.query.usercontribs;e.setState({data:a,loaded:!0})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"box"},i.a.createElement(E.a,{variant:"h6",style:{marginBottom:20}},"Contributions made by"," ",this.props.revision?this.props.revision.username:"user"),this.state.data?this.state.data.map((function(e){return i.a.createElement(E.a,{variant:"body1",component:"div",style:{display:"flex",flexFlow:"row nowrap"}},i.a.createElement("div",{style:{width:240,display:"flex",flexShrink:0}},new Date(e.timestamp).toLocaleTimeString(),", ",new Date(e.timestamp).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})),i.a.createElement("div",{style:{color:e.sizediff>=0?"#009933":"#ff0000",fontWeight:"bold",width:75}},"(",e.sizediff.toLocaleString("en-US",{signDisplay:"always"}),")"),i.a.createElement("div",{style:{fontWeight:"bold",marginRight:20}}," ",e.title),i.a.createElement("div",{style:{fontStyle:"italic"},dangerouslySetInnerHTML:{__html:e.parsedcomment}}))})):i.a.createElement(v.a,null))}}]),a}(n.Component),_=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loaded:!1,data:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.revision&&void 0!==this.props.revision&&g.a.get("https://cors-anywhere.herokuapp.com/https://en.wikipedia.org/w/api.php?action=query&titles="+this.props.revision.title+"&prop=revisions&format=json&rvstart="+this.props.revision.timestamp.toISOString()+"&rvprop=ids|timestamp|user|size|parsedcomment&rvlimit=500").then((function(t){var a=t.data.query.pages[Object.keys(t.data.query.pages)[0]].revisions;e.setState({data:a,loaded:!0})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"box"},i.a.createElement(E.a,{variant:"h6",style:{marginBottom:20}},"Edit history of"," ",this.props.revision?this.props.revision.title:"user"),this.state.data?this.state.data.map((function(e){return i.a.createElement(E.a,{variant:"body1",component:"div",style:{display:"flex",flexFlow:"row nowrap"}},i.a.createElement("div",{style:{width:240,display:"flex",flexShrink:0}},new Date(e.timestamp).toLocaleTimeString(),", ",new Date(e.timestamp).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})),i.a.createElement("div",{style:{fontWeight:"bold",marginRight:20}}," ",e.user),i.a.createElement("div",{style:{fontStyle:"italic"},dangerouslySetInnerHTML:{__html:e.parsedcomment}}))})):i.a.createElement(v.a,null))}}]),a}(n.Component),j=a(166),O=a(92),C=a.n(O),N=a(93),I=a(173),T=a(167),L=a(168),D=a(169),z=a(171),M=a(170),A=a(174),F=a(10),W=Object(N.a)({typography:{root:{component:"div"},fontFamily:"Noto Sans KR",subtitle1:{fontFamily:"Noto Serif",fontSize:"24px"},subtitle2:{fontSize:"12px",marginBottom:"10px",color:"#C57619",fontWeight:"bold",textTransform:"uppercase",textAlign:"left",paddingTop:"20px"},h6:{fontWeight:"bold",fontSize:"16px",textAlign:"left"},body1:{textAlign:"left",fontSize:14},body2:{textAlign:"left",fontSize:12},button:{fontStyle:"italic"},h5:{fontSize:"15px",color:"#3777a5",fontWeight:"bold",textTransform:"none",textAlign:"left"}}});W=Object(I.a)(W);var B=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggle=n.toggle.bind(Object(f.a)(n)),n.state={titles:{damaging:"Edit quality predictions (damaging)",goodfaith:"User intent predictions (good-faith)",experience:"User registration and experience"},thresholdsFound:!1,filters:{damaging:{likelygood:{thresholds:{min:0,max:"maximum recall @ precision >= 0.995"},checked:!1,highlight:"",title:"Very likely good",description:"Highly accurate at finding almost all problem-free edits"},maybebad:{thresholds:{min:"maximum filter_rate @ recall >= 0.9",max:1},checked:!1,highlight:"",title:"May have problems",description:"Finds most flawed or damaging edits, but with lower accuracy"},likelybad:{thresholds:{min:"maximum recall @ precision >= 0.6",max:1},checked:!1,highlight:"",title:"Likely have problems",description:"With medium accuracy, finds and intermediate fraction of problem edits"},verylikelybad:{thresholds:{min:"maximum recall @ precision >= 0.9",max:1},checked:!1,highlight:"",title:"Very likely have problems",description:"Very accurate at finding the most obviously flawed or damaging edits"}},goodfaith:{likelygood:{thresholds:{min:"maximum recall @ precision >= 0.995",max:1},checked:!1,highlight:"",title:"Very likely good faith",description:"Highly accurate at finding almost all good-faith edits"},maybebad:{thresholds:{min:0,max:"maximum filter_rate @ recall >= 0.9"},checked:!1,highlight:"",title:"May be bad faith",description:"Finds most bad-faith edits but with a lower accuracy"},likelybad:{thresholds:{min:0,max:"maximum recall @ precision >= 0.6"},checked:!1,highlight:"",title:"Likely bad faith",description:"With medium accuracy, finds an intermediate fraction of bad-faith edits"},verylikelybad:{thresholds:{min:0,max:0},checked:!1,highlight:"",title:"Very likely bad faith",description:"Very accurate at finding the most obvious bad-faith edits"}},experience:{anonymous:{comparison:function(e){return e.anonymous},checked:!1,highlight:"",title:"Anonymous",description:"Editors who aren't logged in"},loggedIn:{comparison:function(e){return!e.anonymous},checked:!1,highlight:"",title:"Registered",description:"Logged-in editors"},newcomers:{comparison:function(e){return e.newcomer},checked:!1,highlight:"",title:"Newcomers",description:"Editors with less than 8 years of experience"},experienced:{comparison:function(e){return!e.newcomer},checked:!1,highlight:"",title:"Experienced users",description:"Editors with more than 8 years of experience"}}}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.filters,t=function(t){var a=function(a){var n=function(n){"string"===typeof e[t][a].thresholds[n]&&g.a.get("https://ores.wikimedia.org/v3/scores/enwiki/?models="+t+'&model_info=statistics.thresholds.true."'+e[t][a].thresholds[n]+'"').then((function(i){e[t][a].thresholds[n]=parseFloat(i.data.enwiki.models[t].statistics.thresholds.true[0].threshold.toFixed(3))}))};for(var i in e[t][a].thresholds)n(i)};for(var n in e[t])a(n)};for(var a in e)t(a);this.setState({filters:e,thresholdsFound:!0})}},{key:"toggle",value:function(e,t){var a=this.state.filters;a[e][t].checked=!a[e][t].checked,this.setState({filters:a})}},{key:"changeColor",value:function(e,t,a){var n=this.state.filters;n[e][t].highlight=a.target.value,this.setState({filters:n})}},{key:"render",value:function(){var e=this,t=this.props.data||[],a=this.state.filters||{};return this.props.data?i.a.createElement(b.a,{basename:"/mock-recent-changes/"+this.props.variant},i.a.createElement(j.a,{theme:W},i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"box",style:{marginTop:"-2em",borderTop:"none"}},i.a.createElement(b.b,{to:"/"},i.a.createElement(E.a,{variant:"subtitle1"},"Recent Changes"))),i.a.createElement(F.c,null,t&&void 0!==t&&i.a.createElement(F.a,{path:"/d/:id",render:function(e){var a=e.match;return i.a.createElement(y,{revision:t.find((function(e){return e.rev_id===parseInt(a.params.id)}))})}}),i.a.createElement(F.a,{path:"/c/:id",render:function(e){var a=e.match;return i.a.createElement(S,{revision:t.find((function(e){return e.rev_id===parseInt(a.params.id)}))})}}),i.a.createElement(F.a,{path:"/h/:id",render:function(e){var a=e.match;return i.a.createElement(_,{revision:t.find((function(e){return e.rev_id===parseInt(a.params.id)}))})}}),i.a.createElement(F.a,{path:"/"},this.state.thresholdsFound?i.a.createElement("div",{className:"filter box",style:{paddingTop:0}},Object.keys(a).map((function(t){return i.a.createElement(T.a,{className:"modelGroup"},i.a.createElement(L.a,null,i.a.createElement(E.a,{variant:"subtitle2"},e.state.titles[t])),i.a.createElement(D.a,null,Object.keys(a[t]).map((function(n){return i.a.createElement("div",{className:"filterItem"},"nocheck"!==e.props.variant&&i.a.createElement(z.a,{onClick:function(){return e.toggle(t,n)}}),i.a.createElement("div",{className:"filterBox"},i.a.createElement(E.a,{variant:"h6"},a[t][n].title),i.a.createElement(E.a,{variant:"body2"},a[t][n].description)),"noflags"!==e.props.variant&&i.a.createElement(M.a,{className:"highlightBox",value:a[t][n].highlight,onChange:function(a){return e.changeColor(t,n,a)},displayEmpty:!0,renderValue:function(e){return e?i.a.createElement(x.a,{style:{fill:e}}):i.a.createElement(C.a,null)}},["","#495cd0","#43b286","#f6d00e","#f06d1f","#ce2d37"].map((function(e){return i.a.createElement(A.a,{value:e},i.a.createElement(x.a,{style:{fill:e||"#fff"}}))}))))}))))}))):i.a.createElement(v.a,null),i.a.createElement(w,{data:t,filters:a})))))):i.a.createElement(v.a,null)}}]),a}(n.Component),R=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a(u.a,(function(e){return{confidence_faith:+e.confidence_faith,faith_label:"TRUE"===e.goodfaith,confidence_damage:+e.confidence_damage,damaging_label:"TRUE"===e.damaging,rev_id:+e.rev_id,anonymous:"TRUE"===e.anonymous,newcomer:e.edit_years<=8,username:e.username,title:e.title,timestamp:new Date(e.timestamp),size:+e.size,comment:e.parsed_comment,diff:e.diff}})).then((function(t){return e.setState({data:t})}))}},{key:"getContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.a.createElement(B,{data:this.state.data,variant:e})}},{key:"render",value:function(){var e=this;return i.a.createElement(b.a,{basename:"/mock-recent-changes"},i.a.createElement(F.c,null,i.a.createElement(F.a,{path:"/noflags",render:function(){return e.getContent("noflags")}}),i.a.createElement(F.a,{path:"/nocheck",render:function(){return e.getContent("nocheck")}}),i.a.createElement(F.a,{render:function(){return e.getContent("main")}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){e.exports=a.p+"static/media/data-moreinfo.6b9ed204.csv"}},[[108,1,2]]]);
//# sourceMappingURL=main.a0886b55.chunk.js.map